{% extends "base.html" %}
{% block 'title' %}
Submission {{ submission.id }}
{% endblock %}

{% block 'extra_head' %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/cpp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/python.min.js"></script>
<script>hljs.highlightAll();</script>
{% endblock %}

{% load problems %}

{% block 'content' %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <h1>Submission {{ submission.submission_id }}</h1>
        <table class="table table-bordered">
            <tr>
                <th>Problem</th>
                <th>Status</th>
                <th>Submitted</th>
            </tr>
            <tr>
                <td>{% include 'problems/link.html' with problem=submission.problem %}</td>
                <td>{{ submission.current_run | display_verdict }}</td>
                <td>{{ submission.date_created }}</td>
            </tr>
        </table>
        {% if submission.current_run.compile_error %}
        <div class="card mb-3">
            <div class="card-header">
                Compilation output
            </div>
            <div class="card-body">
                <pre class="m-0"><code class="nohighlight">{{ submission.current_run.compile_error }}</code></pre>
            </div>
        </div>
        {% endif %}
        {% for file, content in files.items %}
        <div class="card mb-3">
            <div class="card-header">
                {{ file }}
            </div>
            <div class="card-body">
                <pre><code class="language-{{ submission.language }}">{{ content }}</code></pre>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}